!function(window,document,jQuery,undefined){"use strict";function page(){this._lBody=".l-body",this._lHeader=".l-header",this._lContent=".l-content",this._lSidePopup=".l-side .popup-function",this._owl=".jQ-owl",this._countHeight=".jQ-count-height",this._btnTop=".jQ-top",this._select=".jQ-select",this._menu=".jQ-menu",this._subMenu=".jQ-sub-menu",this._sideMenu=".jQ-side-menu",this._video=".jQ-video",this._mute=".jQ-mute",this._tab=".jQ-tab",this._btnAccordion=".jQ-btn-accordion",this._checkbox=".jQ-checkbox",this._radio=".jQ-radio",this._calc=".jQ-calc",this._tagSelect=".jQ-tag-select",this._share=".jQ-share",this._browserAdj=".jQ-browserAdj",this._adjHeight=".jQ-adjHeight",this._clearInput=".jQ-clear-input",this._openBox=".jQ-open-box",this._closeBox=".jQ-close-box",this._btnFunc=".jQ-btn-func",this._btnMarquee=".jQ-btn-marquee",this._langSwitch=".jQ-lang-switch",this._closePopup=".jQ-close-popup",this._sendMsg=".jQ-send-msg",this._btnSearch=".jQ-btn-search",this._btnOpen=".jQ-open-calendar",this._btnClose=".jQ-close-calendar",this._btnFinish=".jQ-finish",this._btnNext=".jQ-next",this._loading=".jQ-loading",this._waitOwl=".jQ-wait-owl",this._addingWrap=".m-adding-wrap",this._shortcutWrap=".shortcut-wrap",this._teachOwl=".teach-owl",this._teachWrap=".m-teach",this._leavePage=!1,this._animateSpeed=400,this._masonryLoad=!1,this._filter={_frame:".jQ-selectFrame",_element:".jQ-selectTarget",_serialize:null},this._county=".jQ-county"}var common=new page,_en;page.prototype.Angular=function(element,callback){var _elem="object"==typeof element?$(element):element,_matchFn=function(angularelem){var _html=angularelem,_match=_html.match(/{{\s*(\w*|.*)\s*[^\s]+\s*}}/g);if(_match){for(var j=0;j<_match.length;j++){var _regexItem=_match[j],_regexec=/(?![{{]).*(?=}})/i.exec(_regexItem)[0].replace(/\s+/g,"");_html=_html.replace(new RegExp(_regexItem,"g"),eval(_regexec))}"function"==typeof callback&&callback("object"==typeof element?$(_html)[0]:_html)}};if("object"==typeof element)for(var i=0;i<_elem.length;i++)_matchFn(_elem.eq(i)[0].outerHTML);else _matchFn(_elem)},page.prototype.AngularDate=function(){for(var e={_brackets:/{{\s*(\w*|.*)\s*[^\s]+\s*}}/,_tagNames:/^\<.*\>/},t=$(common._lBody).find("*"),o=0;o<t.length;o++){var a=t.eq(o)[0].outerHTML.match(e._brackets);if(a&&e._tagNames.exec(a.input)[0].match(e._brackets))for(var n in t.eq(o).data())t.eq(o).data()[n].match(e._brackets)&&(t.eq(o).data("angular")||t.eq(o).data("angular",t.eq(o).data()[n]))}},page.prototype.serialize=function(e){for(var t=e.parents(common._filter._frame),o=t.find(common._filter._element),a=[],n=[],i=function(e){var t=o.eq(e).attr("name"),i=o.eq(e).val();$.inArray(t,a)===-1&&(a.push(t),n.push(t+"="+i))},s=0;s<o.length;s++)"radio"===o.eq(s)[0].type||"checkbox"===o.eq(s)[0].type?o.eq(s).prop("checked")&&i(s):!o.eq(s).attr("name")||"radio"===o.eq(s)[0].type&&"checkbox"===o.eq(s)[0].type||i(s);common._filter._serialize=n.join("&")},page.prototype.include=function(self){var $target=$(self.data("target")),_href=self.data("url");return!!_href&&void $target.load(_href,function(e){self.data("callback")&&eval(self.data("callback"))})},page.prototype.countyArea=function(){var e={_connect:/connect\s\S+/i,_area:/\S+$/i},t=$(common._county);if(0!==t.length){for(var o=0;o<t.length;o++){var a=e._area.exec(e._connect.exec(t.eq(o)[0].className)[0])[0],n=t.eq(o).data("filter")?t.eq(o).data("filter").replace(/\s/g,"").split(","):[],i=t.eq(o).data("value")?t.eq(o).data("value"):null;t.eq(o).data("area",a),t.eq(o).data("area-text",$('[name="'+a+'"]').find("option").eq(0).text());for(var s=0;s<_area.length;s++)if($.inArray(_area[s].county,n)===-1){var c=t.eq(o).find("option").eq(0).clone();c.text(_area[s].county),c.val(_area[s].county),i&&i===c.val()&&c.prop("selected",!0),c.data("index",s),t.eq(o).append(c)}}common.countyChange()}},page.prototype.countyChange=function(){for(var e=$(common._county),t=0;t<e.length;t++)e.eq(t).on("change",function(e){var t=$(this),o=t.val(),a=t.find("option:selected").data("index"),n=t.data("area-text"),i=$('[name="'+t.data("area")+'"]'),s=i.data("value")?i.data("value"):null,c=i.data("format")?i.data("format").replace(/\s/g,"").split(","):null;if($(i).prop("disabled",!1).empty().append("<option>"+n+"</option>"),o)for(var r=0,l=_area[a].area;r<l.length;r++){var d=i.find("option").eq(0).clone();c?("zip"!==c[0]?d.text(l[r].district):d.text(l[r][c[0]]),"zip"!==c[1]?d.val(l[r].district):d.val(l[r][c[1]])):(d.text(l[r].district),d.val(l[r].zip)),s&&s===d.val()&&d.prop("selected",!0),$(i).append(d)}else $(i).prop("disabled",!0)}),e.eq(t).val()&&e.eq(t).trigger("change")},page.prototype.selectUI=function(){$(common._select).each(function(){var e=$(this),t="";t=0!==e.find(".is-selected").length?"html"===e.data("structure")?e.find(".is-selected").html():e.find(".is-selected").text():"html"===e.data("structure")?e.find(".list").eq(0).html():e.find(".list").eq(0).text(),e.find(".m-selected-item").html(t),e.on("click",function(){e.toggleClass("is-active"),common.offClick(common._select)}),e.find(".list").on("click",function(){$(this).addClass("is-selected").siblings().removeClass("is-selected"),"html"===e.data("structure")?e.find(".m-selected-item").html($(this).html()):e.find(".m-selected-item").html($(this).text())})})},page.prototype.teachLesson=function(){"true"!==localStorage.getItem("teach-lesson")&&0!==$(common._teachWrap).length&&$(common._lBody).addClass("show-teach")},page.prototype.offClick=function(e){projects.$d.off("click").on("click",function(t){t.stopPropagation(),".m-lightbox-content"===e?(t.stopPropagation(),!$(t.target).is(common._openBox+", "+common._openBox+" *,"+e+", "+e+" *")&&$(t.target).data("callback")!==!0&&$(common._lBody).hasClass("show-lightbox")&&common.closeBoxEvent()):".jQ-category"===e?$(t.target).is(e+", "+e+" *")||$(e).removeClass("is-active"):".popup-function"===e?$(t.target).is(e+", "+e+" *, "+common._btnFunc+", "+common._btnFunc+" *")||($(e).prev().removeClass("show-func"),$(common._lBody).removeClass("has-filter")):e===common._select?$(t.target).is(e+", "+e+" *")||$(e).removeClass("is-active"):".calendar-box"===e&&($(t.target).is(e+", "+e+" *, "+common._addingWrap+", "+common._addingWrap+" *")||$(common._addingWrap).removeClass("is-open"))})},page.prototype.showFooter=function(){var e=projects._browsers.msie&&9===projects._browsers.version?projects.$b.height():projects.$hb.height(),t=projects.$w.height(),o=projects.$w.scrollTop();if(e<=t+Math.ceil(o)){if($(common._lBody).addClass("show-footer"),$(common._lBody).hasClass("branch")&&!common._masonryLoad&&"true"===localStorage.getItem("teach-lesson")){var a=$(pageObj._masonryArray.join(""));$(".social-wall").append(a).masonry("appended",a),common._masonryLoad=!0}}else o<=70?$(common._lBody).addClass("show-header"):$(common._lBody).removeClass("show-header show-footer")},page.prototype.headerHeight=function(){$(common._countHeight).each(function(){for(var e=$(this).find(".list"),t=$(this).data("column"),o=Math.ceil(e.length/t),a=0;a<=o;a++)$(this).find("> .list:lt("+o+")").wrapAll('<div class="list-block"></div>')})},page.prototype.pauseVideo=function(){$(common._video).each(function(){if($(this).offset().top+$(this).height()<=projects.$w.scrollTop()+parseInt($(common._lContent).css("padding-top"),10)||common._leavePage===!0)for(var e=0;e<projects._media._player.length;e++){if(!projects._media._player[e].getPlayerState)return!1;1===projects._media._player[e].getPlayerState()&&projects._media._player[e].pauseVideo(),$("[data-media]").eq(e).attr("data-media",$("[data-media]").eq(e).attr("data-media").replace(/autoplay=1/,"autoplay=0"))}})},page.prototype.returnPage=function(){$(common._video).each(function(){if($(this).parents(".owl-item").hasClass("active")&&$(this).offset().top+$(this).height()>projects.$w.scrollTop()+parseInt($(common._lContent).css("padding-top"),10))for(var e=0;e<projects._media._player.length;e++){if(!projects._media._player[e].getPlayerState)return!1;2!==projects._media._player[e].getPlayerState()||$(this).hasClass("is-pause")||(projects._media._player[e].playVideo(),$("[data-media]").eq(e).attr("data-media",$("[data-media]").eq(e).attr("data-media").replace(/autoplay=0/,"autoplay=1")))}})},page.prototype.touchLock=function(e){$(common._owl).on("touchmove touchend",function(t){projects.$w.scrollTop(e)})},page.prototype.selectInputCheck=function(){0!==$('input[type="radio"]:checked').length&&$(common._radio).each(function(){if(0!==$(this).find('input[type="radio"]:checked').length){var e=$(this).find('input[type="radio"]:checked').attr("name");$('input[type="radio"][name="'+e+'"]').parents(common._radio).removeClass("is-checked"),$(this).addClass("is-checked")}})},page.prototype.changeToSelect=function(){$(common._tagSelect).each(function(){for(var e=$(this),t='<select class="m-selection">',o=[],a=0!==e.find(".is-curr").length?e.find(".is-curr").parent().index():0,n=0;n<e.find("a, button").length;n++)e.find("a, button").eq(n).addClass("funcTarget");for(var n=0;n<$(".funcTarget").length;n++)"a"===$(".funcTarget").eq(n).prop("tagName").toLowerCase()?t+='<option value="'+$(".funcTarget").eq(n).attr("href")+'" data-hushtag="'+$(".funcTarget").eq(n).attr("data-hushtag")+'">'+$(".funcTarget").eq(n).text()+"</option>":"button"!==$(".funcTarget").eq(n).prop("tagName").toLowerCase()||$(".funcTarget").eq(n).hasClass("catalog-more")||(t+='<option value="" class="jQ-tab" data-hushtag="'+$(".funcTarget").eq(n).attr("data-hushtag")+'" data-main="'+$(".funcTarget").eq(n).attr("data-main")+'">'+$(".funcTarget").eq(n).text()+"</option>");if(t+="</select>","food"===e.data("case")){for(var n=0;n<e.find("> *").length;n++)o.push(e.find("> *").eq(n).find(".icon-wrap")[0].outerHTML);t+='<div class="m-selected-item b-hide-dt b-text-center"></div>',e.html(t+o[a]).find("option").eq(a).attr("selected","selected"),e.find(".m-selected-item").text(e.find("option").eq(a).text())}else e.html(t).find("option").eq(a).attr("selected","selected");e.on("change",".m-selection",function(){var t=$(this).find("option:selected").index(),a=window.location.href,n=/(tab=).*?(&|$)/,i="";"food"===e.data("case")&&($(this).siblings(".icon-wrap").remove(),$(this).siblings(".m-selected-item").text($(this).find("option:selected").text()),$(this).parent().append(o[t])),$(this).parents(".m-tab-wrap").siblings(".m-tab-content").children(".content-list").eq(t).addClass("is-curr").siblings().removeClass("is-curr"),$(this).find("option:selected").attr("data-hushtag")!==undefined&&history.pushState!==undefined&&(a.split("?")[1]===undefined?history.pushState("",document.title,a+"?tab="+$(this).find("option:selected").attr("data-hushtag")):a.split("?")[1]!==undefined&&a.split("tab=")[1]===undefined?history.pushState("",document.title,a+"&tab="+$(this).find("option:selected").attr("data-hushtag")):a.split("?")[1]!==undefined&&a.split("tab=")[1]!==undefined&&(i="&"===n.exec(a)[2]?$(this).find("option:selected").attr("data-hushtag")+"&":$(this).find("option:selected").attr("data-hushtag"),history.pushState("",document.title,a.replace(n,"$1"+i))))})})},page.prototype.openWin=function(e){var t=e.data("height")?(window.screen.availHeight-e.data("height"))/2:(window.screen.availHeight-600)/2,o=e.data("width")?(window.screen.availLeft||window.screenX)+projects.$d.width()/2-e.data("width")/2:(window.screen.availLeft||window.screenX)+projects.$d.width()/2-300,a=e.data("width")||600,n=e.data("height")||600,i=e.data("menu-bar")||"no",s=e.data("title-bar")||"no",c=e.data("status")||"no";window.open(""+e.attr("href"),"","top="+t+", left="+o+", width="+a+", height="+n+", menubar="+i+", titlebar="+s+", status="+c,!1)},page.prototype.totalHeight=function(){$(common._browserAdj).each(function(){var e=$(this).find(common._adjHeight);if(e.attr("style",""),navigator.userAgent.indexOf("MSIE 9")>0){var t=0;e.each(function(){t<$(this).height()&&(t=$(this).height())}),e.each(function(){$(this).height(t)})}})},page.prototype.tabSwitch=function(e,t){$(common._tab).each(function(){if($(this).hasClass(e)||$(this).data("hushtag")===e){var o=$(this),a=o.data("main"),n=o.data("sub");a!==undefined&&$(".l-main .main-tab > .m-tab-wrap > .tab-list").eq(a).find(common._tab).trigger("click"),n!==undefined&&o.parents(".sub-tab").find("> .m-tab-wrap > .tab-list").eq(n).find(common._tab).trigger("click"),setTimeout(function(){o.trigger("click"),$('[data-hushtag="'+e+'"]').parent().parent().hasClass("jQ-tag-select")&&"Mobile"===projects.device()&&($('[data-hushtag="'+e+'"]').prop("selected","selected"),o.parents(".m-tab-wrap").siblings(".m-tab-content").children(".content-list").eq(o.index()).addClass("is-curr").siblings().removeClass("is-curr"))},0),t!==undefined&&$(common._btnAccordion+'[data-hushtag="'+t+'"]').trigger("click")}}),projects.$w.animate({scrollTop:$(common._lContent+" .main-tab").offset().top-$(common._lHeader).height()},common._animateSpeed)},page.prototype.openBoxEvent=function(){$(common._lBody).addClass("show-lightbox"),common.offClick(".m-lightbox-content")},page.prototype.closeBoxEvent=function(){navigator.userAgent.indexOf("MSIE 9")>0?$(common._lBody).removeClass("show-lightbox"):$(common._lBody).addClass("fade-out").on("webkitAnimationEnd oAnimationend oAnimationEnd msAnimationEnd animationend",function(){$(common._lBody).removeClass("show-lightbox fade-out").off("webkitAnimationEnd oAnimationend oAnimationEnd msAnimationEnd animationend")}),0!==$(".m-lightbox-content form").length&&$(".m-lightbox-content form").validate().resetForm()},page.prototype.mobileHeaderReset=function(){var e=$(common._shortcutWrap)[0].outerHTML;$(common._shortcutWrap).remove(),$(".header-wrap").append(e)},page.prototype.btnFavorite=function(e,t){t===!0?$(e).addClass("is-add show-text").find(".text").text("已加入收藏"):$(e).removeClass("is-add").addClass("show-text").find(".text").text("已取消收藏"),$(e).find(".text").delay(1500).queue(function(){$(this).dequeue(),$(e).removeClass("show-text")})},page.prototype.btnGoogleCalendsr=function(e){$(e).parent(".calendar-box").prev(".btn-calendar").addClass("is-add"),alert("已加入行事曆"),$(e).parent().parent(common._addingWrap).removeClass("is-open")},page.prototype.validateHandler=function(e,t){for(var o in t.invalid)t.invalid[o]!==undefined&&($('.m-radio[name="'+o+'"]').parent(".m-box-holder.is-radio").addClass("error"),$('.m-checkbox[name="'+o+'"]').parent(".m-box-holder.is-checkbox").addClass("error"))},page.prototype.owlDelay=function(){$(common._waitOwl).each(function(){($(this).find("> *").length>parseInt($(this).attr("data-items-md"),10)&&"PC"===projects.device()||$(this).find("> *").length>parseInt($(this).attr("data-items-sm"),10)&&"Tablet"===projects.device()||$(this).find("> *").length>parseInt($(this).attr("data-items-xs"),10)&&"Mobile"===projects.device())&&projects.owlCarousel($(this))})},page.prototype.popupMiddle=function(e){e.css("margin-top",-(e.find(".function-wrap").outerHeight()/2))},projects.$w.load(function(){$(common._lBody).hasClass("show-teach")||common.showFooter(),projects.owlCarousel(common._owl),projects._HREF.split("tab=")[1]!==undefined&&projects._HREF.split("accordion=")[1]!==undefined&&0!==$(common._lContent+" .main-tab").length&&0!==$(common._lContent+" .m-accordion").length?common.tabSwitch(decodeURI(projects._HREF.split("tab=")[1].split("&")[0]),decodeURI(projects._HREF.split("accordion=")[1].split("&")[0])):projects._HREF.split("tab=")[1]!==undefined&&projects._HREF.split("accordion=")[1]===undefined&&0!==$(common._lContent+" .main-tab").length&&common.tabSwitch(decodeURI(projects._HREF.split("tab=")[1].split("&")[0]))}),$(common._lBody).on("change",common._filter._element,function(e){var t=$(this),o=t.parents(common._filter._frame).find("*");if(o.is("[data-url]")){common.serialize(t);for(var a=0;a<o.length;a++)o.eq(a).is("[data-url]")&&common.Angular(o.eq(a).data("angular"),function(e){o.eq(a).removeData("url").data("url",e)});common.include(t)}}),projects.$d.ready(function(){common.AngularDate(),common.headerHeight(),common.selectInputCheck(),"readed"===sessionStorage.getItem("marquee")&&$(common._lHeader).hasClass("show-marquee")&&($(common._lHeader).removeClass("show-marquee"),$(".marquee-wrap").remove()),"Mobile"===projects.device()&&(0!==$(common._shortcutWrap).length&&common.mobileHeaderReset(),$(common._owl).on("drag.owl.carousel",function(){common.touchLock(projects.$w.scrollTop())}),$(common._owl).on("translated.owl.carousel",function(){$(common._owl).off("touchmove touchend")}),0!==$(common._tagSelect).length&&common.changeToSelect(),$(common._lHeader).hasClass("show-marquee")&&$(common._lContent).css("padding-top",$(".marquee-wrap").outerHeight()+parseInt($(common._lContent).css("padding-top"),10))),(projects._browsers.safari===!0&&projects._browsers.chrome===!1||navigator.userAgent.indexOf("MSIE 9")>0)&&"Mobile"!==projects.device()&&common.totalHeight(),0!==$(common._video).length&&(window.onblur=window.onfocusout=window.onpagehide=function(){common._leavePage=!0,common.pauseVideo()},window.onfocus=window.onfocusin=window.onpageshow=function(){common._leavePage=!1,common.returnPage()}),0!==$(common._waitOwl).length&&common.owlDelay(),common.selectUI(),$(common._btnFinish).on("click",function(){localStorage.setItem("teach-lesson",!0),$(common._lBody).addClass("fade-out").on("webkitAnimationEnd oAnimationend oAnimationEnd msAnimationEnd animationend",function(){$(common._lBody).removeClass("show-teach").off("webkitAnimationEnd oAnimationend oAnimationEnd msAnimationEnd animationend"),$(common._teachWrap).remove()})}),$(common._btnNext).on("click",function(){"Mobile"!==projects.device()?$(common._teachWrap).attr("data-step",$(this).data("next")):projects.owlNext(common._teachOwl)}),projects.owlEvents(common._teachOwl,"changed.owl.carousel",function(e){var t=e.item.index;t===e.item.count-1?$(common._teachOwl).next(".btn-wrap").addClass("end-owl"):$(common._teachOwl).next(".btn-wrap").removeClass("end-owl")}),$(common._btnTop).on("click",function(){projects.$hb.animate({scrollTop:0},common._animateSpeed),$(common._lBody).hasClass("index")&&($(common._lBody).attr("data-cut",1),$(".pagination").find(".cut-dot .list").removeClass("is-curr").eq(0).addClass("is-curr"))}),$(common._menu).on("click",function(){$(common._lHeader+" .header-wrap").toggleClass("is-active")}),$(common._langSwitch).on("click",function(){"Mobile"===projects.device()&&$(this).parent().toggleClass("is-active")}),$(common._sideMenu).on("click",function(){"Mobile"===projects.device()&&$(".function-list").hasClass("hide-menu")?($(".function-list").removeClass("hide-menu"),$(".show-func").removeClass("show-func"),$(common._lBody).removeClass("has-filter")):($(this).toggleClass("is-active"),$(this).hasClass("is-active")?$(".collapse-wrap").on("webkitTransitionEnd oTransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).off("webkitTransitionEnd oTransitionend oTransitionEnd msTransitionEnd transitionend"),$(common._lBody).addClass("is-padding-arrow")}):$(common._lBody).removeClass("is-padding-arrow"))}),$(common._subMenu).on("click",function(){"Mobile"===projects.device()&&$(this).toggleClass("is-curr")}),$(common._video).on("click",function(){if($(this).parents(".owl-item").hasClass("active")){var e=$(this).find(".m-youtube-append").attr("id").split("m-youtube-")[1];1!==projects._media._player[e].getPlayerState()?($(this).removeClass("is-pause"),$(this).parent().attr("data-media",$(this).parent().attr("data-media").replace(/autoplay=0/,"autoplay=1")),projects._media._player[e].playVideo()):($(this).addClass("is-pause"),$(this).parent().attr("data-media",$(this).parent().attr("data-media").replace(/autoplay=1/,"autoplay=0")),projects._media._player[e].pauseVideo())}}),$(common._mute).on("click",function(){var e=$(this).prevAll(common._video).find(".m-youtube-append").attr("id").split("m-youtube-")[1];$(this).hasClass("is-mute")?($(this).removeClass("is-mute"),projects._media._player[e].unMute()):($(this).addClass("is-mute"),projects._media._player[e].mute())}),$(common._tab).on("click",function(){var e=$(this).parent().index(),t=window.location.href,o=/(tab=).*?(&|$)/,a="";$(this).addClass("is-curr").parent().siblings().find(common._tab).removeClass("is-curr"),$(this).parents(".m-tab-wrap").siblings(".m-tab-content").children(".content-list").eq(e).addClass("is-curr").siblings().removeClass("is-curr"),$(this).attr("data-hushtag")!==undefined&&history.pushState!==undefined&&(t.split("?")[1]===undefined?history.pushState("",document.title,t+"?tab="+$(this).attr("data-hushtag")):t.split("?")[1]!==undefined&&t.split("tab=")[1]===undefined?history.pushState("",document.title,t+"&tab="+$(this).attr("data-hushtag")):t.split("?")[1]!==undefined&&t.split("tab=")[1]!==undefined&&(a="&"===o.exec(t)[2]?$(this).attr("data-hushtag")+"&":$(this).attr("data-hushtag"),history.pushState("",document.title,t.replace(o,"$1"+a)))),0!==$(common._browserAdj).length&&common.totalHeight(),$(common._lBody).hasClass("foods-index")&&$(this).data("kv-switch")===!0&&$(".kv-tab-content").children(".content-list").eq(e).addClass("is-curr").siblings().removeClass("is-curr")}),$(common._btnAccordion).on("click",function(){var e=window.location.href,t=/(accordion=).*?(&|$)/,o="";$(this).parents(".m-accordion").toggleClass("is-open"),"PC"===projects.device()&&$(this).parents(".m-accordion").siblings().removeClass("is-open"),$(this).attr("data-hushtag")!==undefined&&history.pushState!==undefined&&(e.split("?")[1]===undefined?history.pushState("",document.title,e+"?accordion="+$(this).attr("data-hushtag")):e.split("?")[1]!==undefined&&e.split("accordion=")[1]===undefined?history.pushState("",document.title,e+"&accordion="+$(this).attr("data-hushtag")):e.split("?")[1]!==undefined&&e.split("accordion=")[1]!==undefined&&(o="&"===t.exec(e)[2]?$(this).attr("data-hushtag")+"&":$(this).attr("data-hushtag"),history.pushState("",document.title,e.replace(t,"$1"+o))))}),$(common._lBody).on("click",common._checkbox,function(){if($(this).data("select-all")===!0){var e=$(this).data("gruop-name");0===$(this).find('input[type="checkbox"]:checked').length?($(this).addClass("is-checked").find('input[type="checkbox"]').prop("checked",!0),$('[data-select-name="'+e+'"]').addClass("is-checked").find('input[type="checkbox"]').prop("checked",!0)):($(this).removeClass("is-checked").find('input[type="checkbox"]').prop("checked",!1),$('[data-select-name="'+e+'"]').removeClass("is-checked").find('input[type="checkbox"]').prop("checked",!1))}else 0===$(this).find('input[type="checkbox"]:checked').length?($(this).addClass("is-checked").find('input[type="checkbox"]').prop("checked",!0),$(this).find(".is-checkbox").removeClass("error"),$(this).find(".is-error").text("")):$(this).removeClass("is-checked").find('input[type="checkbox"]').prop("checked",!1)}),$(common._lBody).on("click",common._radio,function(){if(0!==$(this).find('input[type="radio"]:checked').length){var e=$(this).find('input[type="radio"]:checked').attr("name");$('input[type="radio"][name="'+e+'"]').parents(common._radio).removeClass("is-checked"),$('input[type="radio"][name="'+e+'"]').parent().removeClass("error"),$(this).addClass("is-checked")}$(this).parent().hasClass("deliver-method")&&("store"===$(this).data("deliver")?$(this).parent().addClass("is-store").find(".m-selection").prop("disabled",""):$(this).parent().removeClass("is-store").find(".m-selection").prop("disabled","disabled")),$(this).parents(".m-tab-wrap").hasClass("invoice-selection")&&($(this).parents(".m-tab-wrap").next(".m-tab-content").find(".content-list").find("input, select").prop("disabled","disabled"),$(this).parents(".m-tab-wrap").next(".m-tab-content").find(".content-list").eq($(this).parent().index()).find("input, select").prop("disabled",""))}),$(common._lBody).on("click",common._calc,function(){var e=parseInt($(this).siblings(".m-box-holder").find(".m-inputbox").val(),10);"minus"===$(this).data("calc")?e<=2?$(this).siblings(".m-box-holder").find(".m-inputbox").val(1):$(this).siblings(".m-box-holder").find(".m-inputbox").val(e-1):e>=99?$(this).siblings(".m-box-holder").find(".m-inputbox").val(99):$(this).siblings(".m-box-holder").find(".m-inputbox").val(e+1)}),$(common._lBody).on("input",".is-calc .m-inputbox",function(){parseInt($(this).val(),10)>99?$(this).val(99):parseInt($(this).val(),10)<1&&$(this).val(1)}),$(common._clearInput).on("click",function(){$(".jQ-clear-area .m-inputbox").val("")}),$(common._share).on("click",function(e){e.preventDefault(),common.openWin($(this))}),$(common._openBox).on("click",function(){common.openBoxEvent()}),$(common._closeBox).on("click",function(){common.closeBoxEvent()}),$(common._btnFunc).on("click",function(){$(this).hasClass("show-func")?$(this).removeClass("show-func"):($(".show-func").removeClass("show-func"),$(this).addClass("show-func")),$(this).data("sidebar-close")===!0&&$(common._sideMenu).removeClass("is-active"),"aside"!==$(this).data("place")?$(common._lBody).removeClass("is-padding-arrow"):"aside"!==$(this).data("place")||$(this).next().hasClass("align-bottom")||common.popupMiddle($(this).next()),$(common._addingWrap).hasClass("is-open")&&$(common._addingWrap).removeClass("is-open"),"Mobile"===projects.device()&&("aside"===$(this).data("place")?($(this).parents(".function-list").addClass("hide-menu"),$(common._lBody).addClass("has-filter")):$(".quick-list .is-active").removeClass("is-active")),common.offClick(".popup-function")}),$(common._closePopup).on("click",function(){$(this).parents(".popup-function").prev().removeClass("show-func"),"Mobile"===projects.device()&&($(".function-list").removeClass("hide-menu"),$(common._lBody).removeClass("has-filter"))}),$(common._btnMarquee).on("click",function(){$(common._lHeader).removeClass("show-marquee"),sessionStorage.setItem("marquee","readed"),"Mobile"===projects.device()&&$(common._lContent).css("padding-top","")}),$(common._btnSearch).on("click",function(){""!==$(this).prev("input").val()&&(window.location.href=$(this).data("url")+"?q="+$(this).prev("input").val())}),$(common._lBody).on("click",common._btnOpen,function(){$(this).parent(common._addingWrap).hasClass("is-open")?$(this).parent(common._addingWrap).removeClass("is-open"):($(common._addingWrap).removeClass("is-open"),$(this).parent(common._addingWrap).addClass("is-open"),common.offClick(".calendar-box"),projects.$w.scrollTop()>$(this).next(".calendar-box").offset().top-$(common._lHeader).height()&&projects.$hb.animate({scrollTop:$(this).next(".calendar-box").offset().top-$(common._lHeader).height()},common._animateSpeed)),$(".show-func").removeClass("show-func")}),$(common._lBody).on("click",common._btnClose,function(){$(this).parent().parent(common._addingWrap).removeClass("is-open")}),$(common._tagSelect).on("change","select",function(){""!==$(this).val()&&"javascript:;"!==$(this).val()&&"#"!==$(this).val()&&(window.location.href=$(this).val())}),$("input, textarea, select").on("focus",function(){$(this).attr("data-focus","here")}),$("input, textarea, select").on("blur",function(){$(this).attr("data-focus","")}),projects.$d.keydown(function(e){27===e.keyCode&&$(common._lBody).hasClass("show-lightbox")&&common.closeBoxEvent()})}),projects.$w.on("scroll",function(){common.showFooter(),common.pauseVideo()}),projects.$w.resize(function(){"Mobile"!==projects.device()?common.showFooter():(projects.$w.width()>projects.$w.height()&&0===$("[data-focus=here]").length&&alert("建議您使用直向瀏覽，將擁有最佳的瀏覽體驗。"),0!==$(common._tagSelect).length&&"select"!==$(common._tagSelect).children().prop("tagName").toLowerCase()&&common.changeToSelect())}),window.common||(window.common=common)}(window,document,$);